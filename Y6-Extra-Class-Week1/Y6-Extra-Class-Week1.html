<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Interactive Decimal Skills Game – 5 Practice Sets</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
  :root{--bg:#0b1220;--card:#111a2b;--ink:#eaf0ff;--muted:#9fb0cf;--accent:#6ad1ff;--good:#20d59b;--bad:#ff6b6b;--warn:#ffcc66}
  *{box-sizing:border-box}
  body{margin:0;font-family:'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--ink);background:linear-gradient(180deg,#0b1220 0%,#0e1a2f 100%);min-height:100vh}
  .wrap{max-width:1100px;margin:0 auto;padding:28px}
  header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:18px}
  h1{font-size:clamp(20px,3vw,28px);margin:0;font-weight:800;letter-spacing:.3px}
  .panel{background:var(--card);border:1px solid #20304f;border-radius:18px;padding:16px 18px;box-shadow:0 8px 40px rgba(0,0,0,.35)}
  .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
  .control{grid-column:span 12}
  @media(min-width:900px){.control{grid-column:span 6}}
  label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
  select,button,input[type="number"],input[type="text"]{width:100%;background:#0c1526;color:var(--ink);border:1px solid #2a3b61;border-radius:12px;padding:10px 12px;font-size:15px}
  button{cursor:pointer;transition:.2s ease all}
  button.primary{background:linear-gradient(90deg,#3aa1ff,#6ad1ff);color:#041325;border:none}
  button.ghost{background:transparent;border:1px solid #2a3b61}
  button:active{transform:translateY(1px)}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .pill{background:#0d1a31;border:1px dashed #2a3b61;color:var(--muted);border-radius:999px;padding:6px 10px;font-size:12px}
  .qcard{margin-top:14px;background:#0d1526;border:1px solid #24365a;border-radius:16px;padding:16px}
  .qtext{font-size:18px;line-height:1.4}
  .answer{margin-top:10px;display:flex;gap:10px;align-items:center;flex-wrap:wrap}
  .feedback{margin-top:10px;font-weight:600}
  .feedback.ok{color:var(--good)}
  .feedback.no{color:var(--bad)}
  .scorebox{display:flex;gap:14px;align-items:stretch}
  .score{background:#0d1a31;border:1px solid #2a3b61;border-radius:14px;padding:10px 14px;min-width:120px}
  .score h3{font-size:12px;color:var(--muted);margin:0 0 6px}
  .score big{font-size:22px;font-weight:800}
  .tiny{font-size:12px;color:var(--muted)}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;background:#091226;border:1px solid #20304f;border-radius:8px;padding:.15rem .4rem;color:#a7c0ff}
  .footer{margin-top:18px;display:flex;gap:10px;flex-wrap:wrap}
  .hidden{display:none}
  .success{background:rgba(32,213,155,.1);border-color:rgba(32,213,155,.35)}
  .warn{color:var(--warn)}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Interactive Decimal Skills Game – 5 Practice Sets</h1>
    <div class="row">
      <span class="pill">Place value</span>
      <span class="pill">×/÷ 10, 100, 1000</span>
      <span class="pill">Compose/Decompose</span>
      <span class="pill">Rounding</span>
      <span class="pill">Applications</span>
    </div>
  </header>

  <div class="panel">
    <div class="grid">
      <div class="control">
        <label for="setSel">Choose Set</label>
        <select id="setSel"></select>
      </div>
      <div class="control">
        <label for="catSel">Choose Category</label>
        <select id="catSel"></select>
      </div>
    </div>

    <div class="qcard" id="qcard">
      <div class="qtext" id="qtext">Loading…</div>
      <div class="answer" id="answerArea"></div>
      <div id="feedback" class="feedback"></div>
      <div class="footer">
        <button class="ghost" id="skipBtn">Skip <span class="tiny">(no penalty)</span></button>
        <button class="primary" id="checkBtn">Check Answer</button>
        <button class="ghost" id="nextBtn">Next Question</button>
      </div>
    </div>

    <div class="row" style="margin-top:12px">
      <div class="score">
        <h3>Score</h3>
        <big id="score">0</big>
        <div class="tiny">correct answers</div>
      </div>
      <div class="score">
        <h3>Progress</h3>
        <big id="progress">0/0</big>
        <div class="tiny">this category</div>
      </div>
      <div class="score">
        <h3>Streak</h3>
        <big id="streak">0 🔥</big>
        <div class="tiny">keep it going!</div>
      </div>
    </div>
  </div>

  <p class="tiny" style="margin-top:10px">Tip: Press <span class="kbd">Enter</span> to check, <span class="kbd">N</span> for next.</p>
</div>

<script>
// ---------- DATA (5 Sets) ----------
// Each set has categories: value, md (multiply/divide), complete, compose, decompose, rounding, application
// type: 'num' (single number input), 'multi' (multiple blanks), 'compose' (figure from words), 'decomp' (breakdown), 'round', 'app' (application multi-parts)

const SETS = {
  'Set 1': {
    value: [
      {q:'Value of the underlined digit: 3.<u>6</u>25', a:'0.6'},
      {q:'Value of the underlined digit: 0.<u>2</u>37', a:'0.2'},
      {q:'Value of the underlined digit: 45.0<u>8</u>1', a:'0.08'},
    ],
    md: [
      {q:'8.5 × 10 = ?', a:'85'},
      {q:'8.5 ÷ 100 = ?', a:'0.085'},
      {q:'8.5 × 1000 = ?', a:'8500'},
    ],
    complete: [
      {q:'0.739 × 100 = ?', a:'73.9'},
      {q:'4.26 ÷ 10 = ?', a:'0.426'},
      {q:'2.804 × 1000 = ?', a:'2804'},
    ],
    compose: [
      {q:'Write in figures: 2 tens 4 tenths', a:'20.4'},
      {q:'Write in figures: 5 hundreds 7 tenths 2 thousandths', a:'500.702'},
      {q:'Write in figures: 6 thousands 9 ones 4 hundredths', a:'6009.04'},
    ],
    decompose: [
      {q:'Decompose 93.508 into place values (tens + ones + tenths + hundredths + thousandths)', a:['90','3','0.5','0','0.008']},
      {q:'Decompose 701.46 into place values (hundreds + ones + tenths + hundredths)', a:['700','1','0.4','0.06']},
      {q:'Decompose 4.209 into place values (ones + tenths + thousandths)', a:['4','0.2','0.009']},
    ],
    rounding: [
      {q:'Round 7.46 to the nearest tenth', a:'7.5'},
      {q:'Round 12.84 to the nearest whole number', a:'13'},
    ],
    application: [
      {q:'A rope is 5.367 m long. (a) nearest tenth  (b) nearest metre  (c) length of each part if cut equally into 10', a:['5.4','5','0.5367']},
    ],
  },

  'Set 2': {
    value: [
      {q:'Value of the underlined digit: 2.<u>4</u>18', a:'0.4'},
      {q:'Value of the underlined digit: 9.7<u>2</u>6', a:'0.02'},
      {q:'Value of the underlined digit: 31.<u>0</u>59', a:'0'},
    ],
    md: [
      {q:'6.4 × 10 = ?', a:'64'},
      {q:'6.4 ÷ 1000 = ?', a:'0.0064'},
      {q:'6.4 × 100 = ?', a:'640'},
    ],
    complete: [
      {q:'0.405 × 1000 = ?', a:'405'},
      {q:'9.02 ÷ 100 = ?', a:'0.0902'},
      {q:'3.17 × 100 = ?', a:'317'},
    ],
    compose: [
      {q:'Write in figures: 7 tens 5 thousandths', a:'70.005'},
      {q:'Write in figures: 4 hundreds 3 tenths 8 hundredths', a:'400.38'},
      {q:'Write in figures: 2 thousands 6 tens 9 tenths', a:'2060.9'},
    ],
    decompose: [
      {q:'Decompose 56.204 (tens + ones + tenths + thousandths)', a:['50','6','0.2','0.004']},
      {q:'Decompose 908.73 (hundreds + ones + tenths + hundredths)', a:['900','8','0.7','0.03']},
      {q:'Decompose 7.031 (ones + hundredths + thousandths)', a:['7','0.03','0.001']},
    ],
    rounding: [
      {q:'Round 4.38 to the nearest tenth', a:'4.4'},
      {q:'Round 29.62 to the nearest whole number', a:'30'},
    ],
    application: [
      {q:'A bottle contains 2.745 L. (a) value of the digit 7  (b) nearest tenth  (c) share equally into 5 glasses (L)', a:['0.7','2.7','0.549']},
    ],
  },

  'Set 3': {
    value: [
      {q:'Value of the underlined digit: 7.<u>9</u>03', a:'0.9'},
      {q:'Value of the underlined digit: 0.6<u>8</u>2', a:'0.08'},
      {q:'Value of the underlined digit: 120.<u>4</u>56', a:'0.4'},
    ],
    md: [
      {q:'9.1 × 100 = ?', a:'910'},
      {q:'9.1 ÷ 100 = ?', a:'0.091'},
      {q:'9.1 × 1000 = ?', a:'9100'},
    ],
    complete: [
      {q:'0.529 × 100 = ?', a:'52.9'},
      {q:'6.04 ÷ 10 = ?', a:'0.604'},
      {q:'1.803 × 1000 = ?', a:'1803'},
    ],
    compose: [
      {q:'Write in figures: 3 tens 8 tenths', a:'30.8'},
      {q:'Write in figures: 9 hundreds 4 tenths 6 thousandths', a:'900.406'},
      {q:'Write in figures: 1 thousand 5 tens 2 hundredths', a:'1050.02'},
    ],
    decompose: [
      {q:'Decompose 82.501 (tens + ones + tenths + thousandths)', a:['80','2','0.5','0.001']},
      {q:'Decompose 604.98 (hundreds + ones + tenths + hundredths)', a:['600','4','0.9','0.08']},
      {q:'Decompose 3.067 (ones + hundredths + thousandths)', a:['3','0.06','0.007']},
    ],
    rounding: [
      {q:'Round 8.92 to the nearest tenth', a:'8.9'},
      {q:'Round 17.48 to the nearest whole number', a:'17'},
    ],
    application: [
      {q:'A plank is 10.456 m long. (a) nearest tenth  (b) nearest whole number  (c) each of 8 equal parts (m)', a:['10.5','10','1.307']},
    ],
  },

  'Set 4': {
    value: [
      {q:'Value of the underlined digit: 1.<u>2</u>73', a:'0.2'},
      {q:'Value of the underlined digit: 5.6<u>4</u>9', a:'0.04'},
      {q:'Value of the underlined digit: 78.<u>0</u>95', a:'0'},
    ],
    md: [
      {q:'4.7 × 10 = ?', a:'47'},
      {q:'4.7 ÷ 1000 = ?', a:'0.0047'},
      {q:'4.7 × 100 = ?', a:'470'},
    ],
    complete: [
      {q:'0.604 × 1000 = ?', a:'604'},
      {q:'2.71 ÷ 100 = ?', a:'0.0271'},
      {q:'7.98 × 100 = ?', a:'798'},
    ],
    compose: [
      {q:'Write in figures: 6 tens 2 hundredths', a:'60.02'},
      {q:'Write in figures: 3 hundreds 8 tenths 7 thousandths', a:'300.807'},
      {q:'Write in figures: 5 thousands 9 tens 1 tenth', a:'5090.1'},
    ],
    decompose: [
      {q:'Decompose 64.203 (tens + ones + tenths + thousandths)', a:['60','4','0.2','0.003']},
      {q:'Decompose 702.45 (hundreds + ones + tenths + hundredths)', a:['700','2','0.4','0.05']},
      {q:'Decompose 9.018 (ones + hundredths + thousandths)', a:['9','0.01','0.008']},
    ],
    rounding: [
      {q:'Round 11.67 to the nearest tenth', a:'11.7'},
      {q:'Round 45.32 to the nearest whole number', a:'45'},
    ],
    application: [
      {q:'A bag of rice weighs 12.389 kg. (a) value of digit 3  (b) nearest tenth  (c) share equally into 4 bags (kg)', a:['0.3','12.4','3.09725']},
    ],
  },

  'Set 5': {
    value: [
      {q:'Value of the underlined digit: 6.<u>1</u>24', a:'0.1'},
      {q:'Value of the underlined digit: 0.9<u>3</u>7', a:'0.03'},
      {q:'Value of the underlined digit: 205.<u>7</u>89', a:'0.7'},
    ],
    md: [
      {q:'3.6 × 10 = ?', a:'36'},
      {q:'3.6 ÷ 100 = ?', a:'0.036'},
      {q:'3.6 × 1000 = ?', a:'3600'},
    ],
    complete: [
      {q:'0.805 × 100 = ?', a:'80.5'},
      {q:'1.39 ÷ 10 = ?', a:'0.139'},
      {q:'6.702 × 1000 = ?', a:'6702'},
    ],
    compose: [
      {q:'Write in figures: 8 tens 7 thousandths', a:'80.007'},
      {q:'Write in figures: 2 hundreds 5 tenths 9 hundredths', a:'200.59'},
      {q:'Write in figures: 9 thousands 4 tens 3 tenths', a:'9040.3'},
    ],
    decompose: [
      {q:'Decompose 53.704 (tens + ones + tenths + thousandths)', a:['50','3','0.7','0.004']},
      {q:'Decompose 806.92 (hundreds + ones + tenths + hundredths)', a:['800','6','0.9','0.02']},
      {q:'Decompose 2.056 (ones + hundredths + thousandths)', a:['2','0.05','0.006']},
    ],
    rounding: [
      {q:'Round 14.58 to the nearest tenth', a:'14.6'},
      {q:'Round 67.45 to the nearest whole number', a:'67'},
    ],
    application: [
      {q:'A water tank holds 18.276 L. (a) value of digit 2  (b) nearest tenth  (c) share equally into 6 bottles (L)', a:['0.2','18.3','3.046']},
    ],
  }
};

const CATS = [
  {key:'value', name:'Value of Digit'},
  {key:'md', name:'Multiply & Divide (10, 100, 1000)'},
  {key:'complete', name:'Complete: ×/÷ by powers of 10'},
  {key:'compose', name:'Compose: words → figures'},
  {key:'decompose', name:'Decompose: number → parts'},
  {key:'rounding', name:'Rounding'},
  {key:'application', name:'Application & Reasoning'}
];

// ---------- STATE ----------
let currentSet = 'Set 1';
let currentCat = 'value';
let idx = 0;
let score = 0;
let streak = 0;

// ---------- HELPERS ----------
function $(id){return document.getElementById(id)}
function formatProgress(){
  const arr = SETS[currentSet][currentCat];
  $('progress').textContent = `${idx+1}/${arr.length}`;
}
function clampNumeric(v){
  // trim, normalize trailing zeros
  return v.toString().trim().replace(/^\+/, '')
           .replace(/\s+/g,'')
           .replace(/,/g,'')
}
function nearlyEqual(a,b){
  const na = Number(a), nb = Number(b);
  if(!isFinite(na) || !isFinite(nb)) return clampNumeric(a)===clampNumeric(b);
  return Math.abs(na-nb) <= 1e-9; // tolerant
}

function renderQuestion(){
  const data = SETS[currentSet][currentCat][idx];
  $('qtext').innerHTML = `<strong>Q${idx+1}.</strong> ${data.q}`;
  $('feedback').textContent = '';
  const area = $('answerArea');
  area.innerHTML = '';

  if(Array.isArray(data.a)){
    // multi-part answers
    data.a.forEach((_,i)=>{
      const inp = document.createElement('input');
      inp.type = 'text';
      inp.placeholder = `Part ${String.fromCharCode(97+i)}`;
      inp.dataset.part = i;
      area.appendChild(inp);
    });
  } else {
    const inp = document.createElement('input');
    inp.type = 'text';
    inp.placeholder = 'Your answer';
    area.appendChild(inp);
  }
  $('checkBtn').disabled=false;
}

function checkAnswer(){
  const data = SETS[currentSet][currentCat][idx];
  let ok = true;
  if(Array.isArray(data.a)){
    const inputs = Array.from($('answerArea').querySelectorAll('input'));
    for(let i=0;i<inputs.length;i++){
      const want = data.a[i];
      const got = clampNumeric(inputs[i].value);
      if(!nearlyEqual(got,want)) { ok=false; break; }
    }
  } else {
    const got = clampNumeric($('answerArea').querySelector('input').value);
    ok = nearlyEqual(got, data.a);
  }
  if(ok){
    $('feedback').textContent = '✅ Correct!';
    $('feedback').className = 'feedback ok';
    score++; streak++;
  } else {
    $('feedback').innerHTML = `❌ Not quite. <span class="tiny">Correct answer: <span class="warn">${Array.isArray(data.a)?data.a.join(' ; '):data.a}</span></span>`;
    $('feedback').className = 'feedback no';
    streak = 0;
  }
  $('score').textContent = score;
  $('streak').textContent = `${streak} 🔥`;
  $('checkBtn').disabled=true;
}

function nextQuestion(){
  const arr = SETS[currentSet][currentCat];
  idx = (idx+1) % arr.length;
  formatProgress();
  renderQuestion();
}

function reloadCategory(){
  idx = 0; formatProgress(); renderQuestion();
}

function initSelectors(){
  // Sets
  const setSel = $('setSel');
  setSel.innerHTML = Object.keys(SETS).map(s=>`<option>${s}</option>`).join('');
  setSel.value = currentSet;
  setSel.addEventListener('change', e=>{currentSet = e.target.value; reloadCategory();});

  // Categories
  const catSel = $('catSel');
  catSel.innerHTML = CATS.map(c=>`<option value="${c.key}">${c.name}</option>`).join('');
  catSel.value = currentCat;
  catSel.addEventListener('change', e=>{currentCat = e.target.value; reloadCategory();});
}

// keyboard shortcuts
window.addEventListener('keydown', (e)=>{
  if(e.key==='Enter') { e.preventDefault(); checkAnswer(); }
  if(e.key.toLowerCase()==='n') { e.preventDefault(); nextQuestion(); }
});

$('checkBtn').addEventListener('click', checkAnswer);
$('nextBtn').addEventListener('click', nextQuestion);
$('skipBtn').addEventListener('click', nextQuestion);

initSelectors();
reloadCategory();
</script>
</body>
</html>
